{"model_name_or_path": "default__gpt-4.1-mini__t-0.00__p-1.00__c-0.50___swe_bench_lite_test", "instance_id": "django__django-10924", "model_patch": "diff --git a/django/db/models/fields/__init__.py b/django/db/models/fields/__init__.py\nindex 0c64748ccd..cca5b09b52 100644\n--- a/django/db/models/fields/__init__.py\n+++ b/django/db/models/fields/__init__.py\n@@ -1687,7 +1687,9 @@ class FilePathField(Field):\n \n     def deconstruct(self):\n         name, path, args, kwargs = super().deconstruct()\n-        if self.path != '':\n+        if callable(self.path):\n+            kwargs['path'] = self.path\n+        elif self.path != '':\n             kwargs['path'] = self.path\n         if self.match is not None:\n             kwargs['match'] = self.match\n@@ -1709,7 +1711,7 @@ class FilePathField(Field):\n \n     def formfield(self, **kwargs):\n         return super().formfield(**{\n-            'path': self.path,\n+            'path': self.path() if callable(self.path) else self.path,\n             'match': self.match,\n             'recursive': self.recursive,\n             'form_class': forms.FilePathField,\ndiff --git a/reproduce_filepathfield.py b/reproduce_filepathfield.py\nnew file mode 100644\nindex 0000000000..a42f570909\n--- /dev/null\n+++ b/reproduce_filepathfield.py\n@@ -0,0 +1,11 @@\n+import os\n+from django.conf import settings\n+from django.db import models\n+\n+class LocalFiles(models.Model):\n+    name = models.CharField(max_length=255)\n+    file = models.FilePathField(path=os.path.join(settings.LOCAL_FILE_DIR, 'example_dir'))\n+\n+# Simulate makemigrations behavior by calling deconstruct on the field\n+field = LocalFiles._meta.get_field('file')\n+print(field.deconstruct())\ndiff --git a/reproduce_filepathfield_callable.py b/reproduce_filepathfield_callable.py\nnew file mode 100644\nindex 0000000000..3218f8ff7c\n--- /dev/null\n+++ b/reproduce_filepathfield_callable.py\n@@ -0,0 +1,10 @@\n+import os\n+from django.db import models\n+\n+class LocalFiles(models.Model):\n+    name = models.CharField(max_length=255)\n+    file = models.FilePathField(path=lambda: os.path.join('/tmp', 'example_dir'))\n+\n+# Simulate makemigrations behavior by calling deconstruct on the field\n+field = LocalFiles._meta.get_field('file')\n+print(field.deconstruct())\n"}